<table cellpadding="5" style="border-collapse: collapse; border: 1px solid #CCC; font-family: Consolas, courier, monospace; font-size: 11px; color: #888; line-height: 80%">
      <tr style="background-color: #F0F0FF">
        <td style="border-left: 1px solid #CCC">...</td>
        <td style="border-left: 1px solid #CCC">...</td>
        <td style="border-left: 1px solid #CCC; border-right: 1px solid #CCC; color: #888"><pre>@@ -35,9 +35,10 @@ private</pre></td>
      </tr>
      <tr>
        <td style="border-left: 1px solid #CCC">35</td>
        <td style="border-left: 1px solid #CCC">35</td>
        <td style="border-left: 1px solid #CCC; border-right: 1px solid #CCC; color: #000"><pre>   # Parse the input searching for lines. Initialize Line object for every line.</pre></td>
      </tr>
      <tr>
        <td style="border-left: 1px solid #CCC">36</td>
        <td style="border-left: 1px solid #CCC">36</td>
        <td style="border-left: 1px solid #CCC; border-right: 1px solid #CCC; color: #000"><pre>   # Return an array of Line objects.</pre></td>
      </tr>
      <tr>
        <td style="border-left: 1px solid #CCC">37</td>
        <td style="border-left: 1px solid #CCC">37</td>
        <td style="border-left: 1px solid #CCC; border-right: 1px solid #CCC; color: #000"><pre>   def find_lines!</pre></td>
      </tr>
      <tr style="background-color: #FDD">
        <td style="border-left: 1px solid #CCC">38</td>
        <td style="border-left: 1px solid #CCC">.</td>
        <td style="border-left: 1px solid #CCC; border-right: 1px solid #CCC; color: #000"><pre>-    returning(@lines = []) do</pre></td>
      </tr>
      <tr style="border-top: 3px solid #F55; border-bottom: 3px solid #F55; background-color: #FDD; font-weight: bold">
        <td style="border-left: 1px solid #CCC">39</td>
        <td style="border-left: 1px solid #CCC">.</td>
        <td style="border-left: 1px solid #CCC; border-right: 1px solid #CCC; color: #000"><pre>-      input.split(/\r?\n/).each_with_index do |line_str, idx|</pre></td>
      </tr>
      <tr style="background-color: #FDD">
        <td style="border-left: 1px solid #CCC">40</td>
        <td style="border-left: 1px solid #CCC">.</td>
        <td style="border-left: 1px solid #CCC; border-right: 1px solid #CCC; color: #000"><pre>-        line = PrettyDiff::Line.new(diff, line_str, :number =&gt; idx)</pre></td>
      </tr>
      <tr style="background-color: #DFD">
        <td style="border-left: 1px solid #CCC">.</td>
        <td style="border-left: 1px solid #CCC">38</td>
        <td style="border-left: 1px solid #CCC; border-right: 1px solid #CCC; color: #000"><pre>+    @lines = []</pre></td>
      </tr>
      <tr style="background-color: #DFD">
        <td style="border-left: 1px solid #CCC">.</td>
        <td style="border-left: 1px solid #CCC">39</td>
        <td style="border-left: 1px solid #CCC; border-right: 1px solid #CCC; color: #000"><pre>+    @lines.tap do</pre></td>
      </tr>
      <tr style="border-top: 3px solid #5F5; border-bottom: 3px solid #5F5; background-color: #DFD; font-weight: bold">
        <td style="border-left: 1px solid #CCC">.</td>
        <td style="border-left: 1px solid #CCC">40</td>
        <td style="border-left: 1px solid #CCC; border-right: 1px solid #CCC; color: #000"><pre>+      input.split(/\r?\n/).each do |line_str|</pre></td>
      </tr>
      <tr style="background-color: #DFD">
        <td style="border-left: 1px solid #CCC">.</td>
        <td style="border-left: 1px solid #CCC">41</td>
        <td style="border-left: 1px solid #CCC; border-right: 1px solid #CCC; color: #000"><pre>+        line = PrettyDiff::Line.new(diff, line_str)</pre></td>
      </tr>
      <tr style="border-top: 3px solid #999; border-bottom: 3px solid #999; background-color: #FFFBCC; font-weight: bold">
        <td style="border-left: 1px solid #CCC">41</td>
        <td style="border-left: 1px solid #CCC">42</td>
        <td style="border-left: 1px solid #CCC; border-right: 1px solid #CCC; color: #000"><pre>         next if line.ignore?</pre></td>
      </tr>
      <tr>
        <td style="border-left: 1px solid #CCC">42</td>
        <td style="border-left: 1px solid #CCC">43</td>
        <td style="border-left: 1px solid #CCC; border-right: 1px solid #CCC; color: #000"><pre>         @lines &lt;&lt; line</pre></td>
      </tr>
      <tr>
        <td style="border-left: 1px solid #CCC">43</td>
        <td style="border-left: 1px solid #CCC">44</td>
        <td style="border-left: 1px solid #CCC; border-right: 1px solid #CCC; color: #000"><pre>         line_numbers.act_on_line(line)</pre></td>
      </tr>
</table>